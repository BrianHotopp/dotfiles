set -g mode-keys vi
set -g mouse on

# Prefer Wayland, then X11, then xsel for clipboard integration.
if-shell -b 'command -v wl-copy >/dev/null 2>&1' \
  'set -g @copy_command "wl-copy"' \
  'if-shell -b "command -v xclip >/dev/null 2>&1" \
     "set -g @copy_command \"xclip -selection clipboard -in\"" \
     "set -g @copy_command \"xsel --clipboard --input\""' 

bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send-keys -X copy-pipe-and-cancel "#{@copy_command}"
bind -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "#{@copy_command}"
bind P paste-buffer

# Better color support across terminals
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",*:Tc"
